{% extends 'base.html' %}

{% block content %}
<style>
    .rounded-lg {
        border-radius: 1rem;
    }

    .custom-file-label.rounded-pill {
        border-radius: 50rem;
    }

    .custom-file-label.rounded-pill::after {
        border-radius: 0 50rem 50rem 0;
    }

    .file-upload input[type='file'] {
        display: none;
    }

    /* Make the image fully responsive */
    .carousel-inner img {
        width: 100%;
        height: 100%;
    }
</style>
<div class="row mb-5 text-center text-white">
</div>

<div class="row">
    <div class="col-lg-5 mx-auto">
        <div class="p-5 bg-white shadow rounded-lg">
            <h6 class="text-center mb-4 text-muted"> Click to hear automated call </h6>
            <div class="col text-center">
                <button id="Play_Button" class="col-lg-5 btn btn-primary overflow-hidden rounded-pill mb-6">Play</button>
            </div>
            <div class="row mb-5 text-center text-white">
            </div>
            <h6 class="text-center mb-4 text-muted"> Kindly upload your response below </h6>
            <img
                src="https://res.cloudinary.com/mhmd/image/upload/v1557366994/img_epm3iz.png" alt="" width="200"
                class="d-block mx-auto mb-4 rounded-pill">

            <h6 class="text-center mb-4 text-muted">
                Select the Audio File to Analyze
            </h6>
            <form action="analysis" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="custom-file overflow-hidden rounded-pill mb-5">
                    <input id="customFile" type="file" class="custom-file-input rounded-pill" name="audiofile">
                    <label for="customFile" class="custom-file-label rounded-pill">Choose File</label>
                </div>
                <div class="col text-center">
                    <button type="submit" class="col-lg-5 btn btn-primary overflow-hidden rounded-pill mb-6"> Upload
                        File </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function Play_Audio() {
        var audioElement = document.createElement("audio");
        audioElement.src = "/media/audioRecord.wav";
        document.getElementById("Play_Button").addEventListener("click", function (music) {
            audioElement.play();
        }, false);
    }
    Play_Audio();
</script>
{% endblock %}